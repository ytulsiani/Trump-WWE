<!DOCTYPE html>
<html lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" name="viewport">
	<title>Make your Gif</title><!-- CSS  -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="css/materialize.css" media="screen,projection" rel="stylesheet" type="text/css">
	<link href="css/style.css" media="screen,projection" rel="stylesheet" type="text/css">
	<style>
        html,body {
         
            height:100%;

        }
	   .navlogo {
	     margin-top: 10px;
	     max-width: 3rem;
	     height:auto;
	   }
       .container.main {
           min-height: 60%;
       }

       .row.upload {
           margin-top: 25%;
       }

       
	</style>
</head>
<body class="grey lighten-3">
	<nav class="grey z-depth-3" role="navigation">
		<div class="nav-wrapper container">
			<a class="brand-logo  white-text" href="#" id="logo-container">Gif</a>
			<ul class="right navlink hide-on-med-and-down white-text">
				
			</ul>
			<a class="button-collapse white-text" data-activates="nav-mobile" href="#"><i class="material-icons">menu</i></a>
		</div>
	</nav>
	
	<div class="container main">
	<div class="row upload">
    <div class="section col s4 offset-s4">
        <form action="#">
            <div class="file-field input-field">
            <div class="grey btn">
                <span>File</span>
                <input type="file">
            </div>
            <!--<div >
                <input type="file"></input>
            </div>-->
            <div class="file-path-wrapper">
                <input class="file-path validate" type="text">
            </div>
    
            </div>
        </form>
			
    </div>
    </div>  

	</div>
	<footer class="page-footer grey">
		<div class="container"></div>
		<div class="footer-copyright">
			<div class="container">
				Â© 2017 Me
			</div>
		</div>
	</footer><!--  Scripts-->
	<script src="https://code.jquery.com/jquery-2.1.1.min.js">
	</script> 
	<script src="js/materialize.js">
	</script> 
	<script src="js/init.js">
	</script>

    <script>
        
         $(".file-field input[type=file]").first().change(function() {
            uploadImage();
            
        });
    

        function uploadImage() {

           var formData = new FormData();

            var img_file = $(".file-field input[type=file]")[0].files[0];

            formData.append( 'image', img_file, img_file.name); 
            
            $.ajax({
                url: '/upload',
                type: 'POST',
                data: formData,
                cache: false,
                dataType: 'json',
                processData: false, // Don't process the files
                contentType: false, // Set content type to false as jQuery will tell the server its a query string request
                success: function(data, textStatus, jqXHR)
                {
                    if(typeof data.error === 'undefined')
                    {
                        // Success so call function to process the form
                        submitForm(event, data);
                    }
                    else
                    {

                        // Handle errors here
                        console.log('ERRORS: ' + data.error);
                    }
                },
                error: function(jqXHR, textStatus, errorThrown)
                {
                    // Handle errors here
                    console.log('ERRORS: ' + textStatus);
                    // STOP LOADING SPINNER
                }
            });
        }
    </script>
</body>
</html>